import{r as i,S as _,j as e,V as l}from"./app-Xobat-FU.js";import{M as S}from"./Modal-DsUhjpN5.js";import{P as p}from"./PrimaryButton-tjVAZleo.js";import{I as F}from"./InputLabel-C4fgOz4K.js";import{I as N}from"./InputError-BhERdZOb.js";import{S as U}from"./SecondaryButton-BYvZmWXL.js";import{F as v}from"./FileInput-CEc4c1B9.js";import"./transition-ZmkV3jRI.js";function R({order_id:c}){const[f,n]=i.useState(!1),[o,m]=i.useState(null),{data:d,setData:u,post:x,processing:a,errors:g,reset:y}=_({order_id:c,proof_of_payment:null}),j=()=>{n(!0)},t=()=>{n(!1),y(),m(null)},h=s=>{const r=s.target.files[0];r&&(m(r),u("proof_of_payment",r))},P=s=>{if(s.preventDefault(),!d.proof_of_payment){l.error("Please select an image first");return}x("/upload-pof",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{t(),l.success("Proof of Payment Uploaded Successfully!")},onError:()=>{l.error("Upload failed. Please try again.")}})};return e.jsxs(e.Fragment,{children:[e.jsx(p,{onClick:j,children:"Upload Proof of Payment"}),e.jsx(S,{show:f,onClose:t,children:e.jsxs("form",{onSubmit:P,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upload Proof of Payment"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please upload a clear image of your payment receipt."}),e.jsxs("div",{className:"mt-5",children:[e.jsx(F,{htmlFor:"proof_of_payment",value:"Payment Receipt (Image)"}),e.jsx(v,{id:"proof_of_payment",name:"proof_of_payment",accept:"image/png, image/jpeg, image/jpg",onChange:h,required:!0}),o&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected file: ",o.name]}),e.jsx(N,{className:"mt-2",message:g.proof_of_payment})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(U,{type:"button",onClick:t,disabled:a,children:"Cancel"}),e.jsx(p,{className:"ms-3",disabled:a||!o,children:a?"Uploading...":"Upload"})]})]})})]})}export{R as default};
