import{q as d,j as e,a as c}from"./app-Xobat-FU.js";import{A as x}from"./AuthenticatedLayout-Cj0nyHL4.js";import p from"./PostOfferForm-Cga0a58h.js";import h from"./OfferComponent-h3t2TxNW.js";import"./ApplicationLogo-BXXghqJZ.js";import"./transition-ZmkV3jRI.js";import"./Modal-DsUhjpN5.js";import"./PrimaryButton-tjVAZleo.js";import"./InputLabel-C4fgOz4K.js";import"./TextAreaInput-D2xFeg7a.js";import"./InputError-BhERdZOb.js";import"./DateTimeInput-Bl6BzE69.js";import"./SecondaryButton-BYvZmWXL.js";import"./SelectInput-BYFEZPwX.js";import"./FileInput-CEc4c1B9.js";import"./TextInput-yCmsFnD1.js";import"./OrderOfferForm-4gmDJ-xf.js";function $(){const a=d().props.auth.user,r=d().props.thread,s=r.inquiry,n=r.offers,m=d().props.canOrder,o=t=>t.reduce((l,i)=>(l[i.label]||(l[i.label]=[]),l[i.label].push(i),l),{});return e.jsxs(x,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Offer Thread"}),children:[e.jsx(c,{title:"Offer Thread"}),e.jsx("div",{className:"pb-5",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg mt-7",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-6 text-gray-900",children:[e.jsxs("div",{className:"w-full md:w-[50%]",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold",children:s.user.name}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleString()})]}),e.jsx("div",{className:"mt-5 text-xs",children:s.description}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"text-xs color-green-100",children:["Delivery Date:"," ",new Date(s.delivery_time).toLocaleString()]}),e.jsxs("div",{className:"text-xs color-green-100",children:["Delivery Type : ",s.mod]}),e.jsxs("div",{className:"text-xs color-green-100",children:["Payment: ",s.mop]})]})]}),e.jsxs("div",{className:"w-full md:w-[40%]",children:[e.jsx("div",{className:"text-sm mb-2",children:"Attached Files:"}),Object.entries(o(s.files)).map(([t,l])=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs font-bold m-0",children:[t.toUpperCase(),":"]}),e.jsx("ul",{children:l.map(i=>e.jsx("div",{children:e.jsx("a",{href:`/uploads/${i.file_name}`,target:"_blank",rel:"noopener noreferrer",className:"m-0 mb-1 text-xs inline-block text-blue-600 hover:underline",children:i.file_name})},`file-${i.id}`))})]},t))]})]})},"inquiry-"+s.id),e.jsxs("div",{className:"mt-5",children:[e.jsx("h1",{className:"text-xl font-bold text-center mb-3 mt-10",children:"Offers"}),n.map(t=>e.jsx("div",{className:"mt-3",children:e.jsx(h,{offer:t,offeredByUser:t.is_inquirer==!0?s.user:r.user,canOrder:m})},`offer-${t.id}-component`))]}),a.role!=="admin"&&(r==null?void 0:r.user)&&s.user&&(a.id===r.user.id||a.id===s.user.id)&&m==!0&&e.jsx("div",{className:"mt-5 text-end",children:e.jsx(p,{inquiry:s,threadId:r.id})})]})})]})}export{$ as default};
