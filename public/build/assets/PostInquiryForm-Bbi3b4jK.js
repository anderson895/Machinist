import{r as m,S as P,j as e,V as n}from"./app-Xobat-FU.js";import{M as S}from"./Modal-DsUhjpN5.js";import{P as d}from"./PrimaryButton-tjVAZleo.js";import{I as i}from"./InputLabel-C4fgOz4K.js";import{T as q}from"./TextAreaInput-D2xFeg7a.js";import{I as l}from"./InputError-BhERdZOb.js";import{D as C}from"./DateTimeInput-Bl6BzE69.js";import{S as D}from"./SecondaryButton-BYvZmWXL.js";import{S as c}from"./SelectInput-BYFEZPwX.js";import{F as w}from"./FileInput-CEc4c1B9.js";import{M as F}from"./MultiSelectInput-BuBFnG2t.js";import"./transition-ZmkV3jRI.js";function z({user:O,userList:u}){const[p,o]=m.useState(!1),[v,x]=m.useState([]),f=()=>{o(!0)},{data:t,setData:a,post:j,processing:h,errors:r,reset:g}=P({description:"",delivery_time:"",mop:"",mod:"",files:[],viewers:[]}),y=s=>{s.preventDefault(),j("/post-inquiry",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{o(!1),n.success("Inquiry posted!"),g()},onError:()=>{n.error("Something went wrong. Please try again.")}})},N=()=>{o(!1)},I=s=>{x(s),a("viewers",s)};return m.useEffect(()=>{t.mod!==void 0&&a("mop","")},[t.mod]),e.jsxs(e.Fragment,{children:[e.jsx(d,{onClick:f,children:"Post Inquiry"}),e.jsx(S,{show:p,children:e.jsxs("form",{onSubmit:y,encType:"multipart/form-data",className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Post Inquiry"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit your inquiry along with any relevant details and attachments."}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"viewers",value:"Limit Manufacturer Viewers"}),e.jsx(F,{id:"viewers",name:"viewers",selectedOptions:v,onChange:I,options:u.map(s=>({value:s.id,label:s.name})),className:"mt-1 block w-full",isFocused:!0}),e.jsx(l,{className:"mt-2",message:r.viewers})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"description",value:"Description"}),e.jsx(q,{id:"description",name:"description",className:"mt-1 block w-full",value:t.description,onChange:s=>a("description",s.target.value),required:!0,isFocused:!0,autoComplete:"description"}),e.jsx(l,{className:"mt-2",message:r.description})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"delivery_time",value:"Delivery Date"}),e.jsx(C,{id:"delivery_time",name:"delivery_time",className:"mt-1 block w-full",value:t.delivery_time,onChange:s=>a("delivery_time",s.target.value),required:!0,isFocused:!0,autoComplete:"delivery_time"}),e.jsx(l,{className:"mt-2",message:r.delivery_time})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"mod",value:"Mode Of Delivery"}),e.jsx(c,{id:"mod",name:"mod",value:t.mod,onChange:s=>a("mod",s.target.value),options:[{value:"",label:""},{value:"Pick Up",label:"Pick Up"},{value:"Deliver",label:"Deliver"}],required:!0}),e.jsx(l,{className:"mt-2",message:r.mod})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"mop",value:"Mode Of Payment"}),e.jsx(c,{id:"mop",name:"mop",value:t.mop,onChange:s=>a("mop",s.target.value),options:t.mod?[{value:"",label:""},{value:t.mod==="Deliver"?"COD":"COP",label:t.mod==="Deliver"?"COD":"COP"},{value:"Online Payment",label:"Online Payment"}]:[{value:"",label:""}],required:!!t.mod}),e.jsx(l,{className:"mt-2",message:r.mop})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"files",value:"Upload files"}),e.jsx(w,{id:"files",name:"files",accept:"image/png, image/jpeg, application/pdf",multiple:!0,onChange:s=>a("files",[...s.target.files]),required:!0}),Object.entries(r).filter(([s])=>s.startsWith("files.")).map(([s,b])=>e.jsx(l,{className:"mt-2",message:b},s))]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(D,{onClick:N,children:"Cancel"}),e.jsx(d,{className:"ms-3",disabled:h,children:"Post"})]})]})})]})}export{z as default};
