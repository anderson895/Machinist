import{q as i,j as e,J as n}from"./app-Xobat-FU.js";import{S as c}from"./SecondaryButton-BYvZmWXL.js";import x from"./PostOfferForm-Cga0a58h.js";import p from"./OffersComponent-BKFsognB.js";import h from"./UpdateInquiryForm-CQgQuD1e.js";import"./Modal-DsUhjpN5.js";import"./transition-ZmkV3jRI.js";import"./PrimaryButton-tjVAZleo.js";import"./InputLabel-C4fgOz4K.js";import"./TextAreaInput-D2xFeg7a.js";import"./InputError-BhERdZOb.js";import"./DateTimeInput-Bl6BzE69.js";import"./SelectInput-BYFEZPwX.js";import"./FileInput-CEc4c1B9.js";import"./TextInput-yCmsFnD1.js";import"./MultiSelectInput-BuBFnG2t.js";import"./DangerButton-CnDB0kVu.js";function B({inquiry:s,userList:o}){const r=i().props.auth.user,a=s.offer_threads.find(l=>l.user_id===r.id),m=l=>l.reduce((d,t)=>(d[t.label]||(d[t.label]=[]),d[t.label].push(t),d),{});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-6 text-gray-900",children:[e.jsxs("div",{className:"w-full md:w-[50%]",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:s.user.name}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleString()})]}),e.jsx("div",{className:"mt-5 text-sm",children:s.description}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"text-xs color-green-100",children:["Delivery Date:"," ",new Date(s.delivery_time).toLocaleString()]}),e.jsxs("div",{className:"text-xs color-green-100",children:["Delivery Type : ",s.mod]}),e.jsxs("div",{className:"text-xs color-green-100",children:["Payment: ",s.mop]})]})]}),e.jsxs("div",{className:"w-full md:w-[40%]",children:[e.jsx("div",{className:"text-sm mb-2",children:"Attached Files:"}),Object.entries(m(s.files)).map(([l,d])=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs font-bold m-0",children:[l.toUpperCase(),":"]}),e.jsx("ul",{children:d.map(t=>e.jsx("div",{children:e.jsx("a",{href:`/uploads/${t.file_name}`,target:"_blank",rel:"noopener noreferrer",className:"m-0 mb-1 text-xs inline-block text-blue-600 hover:underline",children:t.file_name})},`file-${t.id}`))})]},l))]})]}),e.jsx("div",{className:"p-6 text-gray-900 flex gap-1",children:e.jsxs("div",{className:"flex gap-1",children:[r.role==="manufacturer"&&r.id!==s.user.id&&!a&&e.jsx(x,{inquiry:s}),r.role==="manufacturer"&&a&&e.jsx(n,{href:route("offer-thread",{threadId:a.id}),children:e.jsx(c,{children:"View My Offer"})}),(r.role==="admin"||r.id===s.user.id)&&e.jsx(p,{inquiry:s}),r.role!="admin"&&r.id==s.user.id&&e.jsx(e.Fragment,{children:e.jsx(h,{inquiry:s,userList:o})})]})})]},"inquiries-"+s.id)})}export{B as default};
