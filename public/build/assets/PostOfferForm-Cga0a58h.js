import{r as m,S as O,j as e,V as n}from"./app-Xobat-FU.js";import{M as b}from"./Modal-DsUhjpN5.js";import{P as c}from"./PrimaryButton-tjVAZleo.js";import{I as i}from"./InputLabel-C4fgOz4K.js";import{T as C}from"./TextAreaInput-D2xFeg7a.js";import{I as l}from"./InputError-BhERdZOb.js";import{D as P}from"./DateTimeInput-Bl6BzE69.js";import{S as D}from"./SecondaryButton-BYvZmWXL.js";import{S as d}from"./SelectInput-BYFEZPwX.js";import{F}from"./FileInput-CEc4c1B9.js";import{T as S}from"./TextInput-yCmsFnD1.js";import"./transition-ZmkV3jRI.js";function L({inquiry:p,threadId:u}){const[f,o]=m.useState(!1),v=()=>{o(!0)},{data:t,setData:a,post:x,processing:j,errors:r,reset:h}=O({thread_id:u,inquiry_id:p.id,description:"",price:0,delivery_time:"",mop:"",mod:"",files:[]}),g=s=>{s.preventDefault(),x("/post-offer",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{o(!1),n.success("Offer posted!"),h()},onError:()=>{n.error("Something went wrong. Please try again.")}})},y=()=>{o(!1)};return m.useEffect(()=>{t.mod!==void 0&&a("mop","")},[t.mod]),e.jsxs(e.Fragment,{children:[e.jsx(c,{onClick:v,children:"Offer"}),e.jsx(b,{show:f,children:e.jsxs("form",{onSubmit:g,encType:"multipart/form-data",className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Post an Offer"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Submit your offer along with any relevant details and attachments."}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"description",value:"Description"}),e.jsx(C,{id:"description",name:"description",className:"mt-1 block w-full",value:t.description,onChange:s=>a("description",s.target.value),required:!0,isFocused:!0,autoComplete:"description"}),e.jsx(l,{className:"mt-2",message:r.description})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"price",value:"Price"}),e.jsx(S,{id:"price",name:"price",className:"mt-1 block w-full",value:t.price,onChange:s=>a("price",s.target.value),required:!0,isFocused:!0,autoComplete:"price",type:"number"}),e.jsx(l,{className:"mt-2",message:r.price})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"delivery_time",value:"Delivery Date"}),e.jsx(P,{id:"delivery_time",name:"delivery_time",className:"mt-1 block w-full",value:t.delivery_time,onChange:s=>a("delivery_time",s.target.value),required:!0,isFocused:!0,autoComplete:"delivery_time"}),e.jsx(l,{className:"mt-2",message:r.delivery_time})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"mod",value:"Mode Of Delivery"}),e.jsx(d,{id:"mod",name:"mod",value:t.mod,onChange:s=>a("mod",s.target.value),options:[{value:"",label:""},{value:"Pick Up",label:"Pick Up"},{value:"Deliver",label:"Deliver"}],required:!0}),e.jsx(l,{className:"mt-2",message:r.mod})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"mop",value:"Mode Of Payment"}),e.jsx(d,{id:"mop",name:"mop",value:t.mop,onChange:s=>a("mop",s.target.value),options:t.mod?[{value:"",label:""},{value:t.mod==="Deliver"?"COD":"COP",label:t.mod==="Deliver"?"COD":"COP"},{value:"Online Payment",label:"Online Payment"}]:[{value:"",label:""}],required:!!t.mod}),e.jsx(l,{className:"mt-2",message:r.mop})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(i,{htmlFor:"files",value:"Upload files"}),e.jsx(F,{id:"files",name:"files",accept:"image/png, image/jpeg, application/pdf",multiple:!0,onChange:s=>a("files",[...s.target.files])}),Object.entries(r).filter(([s])=>s.startsWith("files.")).map(([s,N])=>e.jsx(l,{className:"mt-2",message:N},s))]})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(D,{onClick:y,children:"Cancel"}),e.jsx(c,{className:"ms-3",disabled:j,children:"Post"})]})]})})]})}export{L as default};
