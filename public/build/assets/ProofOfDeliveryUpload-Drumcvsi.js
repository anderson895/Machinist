import{r as d,S as _,j as e,V as t}from"./app-Xobat-FU.js";import{M as S}from"./Modal-DsUhjpN5.js";import{P as c}from"./PrimaryButton-tjVAZleo.js";import{I as P}from"./InputLabel-C4fgOz4K.js";import{I as U}from"./InputError-BhERdZOb.js";import{S as F}from"./SecondaryButton-BYvZmWXL.js";import{F as N}from"./FileInput-CEc4c1B9.js";import"./transition-ZmkV3jRI.js";function V({order_id:f}){const[m,i]=d.useState(!1),[o,n]=d.useState(null),{data:p,setData:u,post:x,processing:r,errors:g,reset:y}=_({order_id:f,proof_of_delivery:null}),j=()=>{i(!0)},s=()=>{i(!1),y(),n(null)},v=a=>{const l=a.target.files[0];l&&(n(l),u("proof_of_delivery",l))},h=a=>{if(a.preventDefault(),!p.proof_of_delivery){t.error("Please select an image first");return}x("/upload-pod",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{s(),t.success("Proof Uploaded Successfully!")},onError:()=>{t.error("Upload failed. Please try again.")}})};return e.jsxs(e.Fragment,{children:[e.jsx(c,{onClick:j,children:"Upload Proof of Delivery"}),e.jsx(S,{show:m,onClose:s,children:e.jsxs("form",{onSubmit:h,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upload Proof of Delivery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Please upload a clear image of proof of delivery."}),e.jsxs("div",{className:"mt-5",children:[e.jsx(P,{htmlFor:"proof_of_delivery",value:"Proof of Delivery/Pick Up (Image)"}),e.jsx(N,{id:"proof_of_delivery",name:"proof_of_delivery",accept:"image/png, image/jpeg, image/jpg",onChange:v,required:!0}),o&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected file: ",o.name]}),e.jsx(U,{className:"mt-2",message:g.proof_of_delivery})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(F,{type:"button",onClick:s,disabled:r,children:"Cancel"}),e.jsx(c,{className:"ms-3",disabled:r||!o,children:r?"Uploading...":"Upload"})]})]})})]})}export{V as default};
